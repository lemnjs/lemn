!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";const r=11;function a(t,e){const{firstChild:n,lastChild:a}=function(t){return t.nodeType===r?t:{firstChild:t,lastChild:t}}(e);(n.ref=t.start=n.ref||t.start).dom=n,(a.endRef=t.end=a.endRef||t.end).dom=a}function i(t){const e=document.createRange();return e.setStartBefore(t.start.dom),e.setEndAfter(t.end.dom),e.extractContents(),e}function o(t,e){const n=i(t);a(t,e),n.insertNode(e)}function s(t,e){t.attr.dom.removeAttribute(t.attr.name),"object"==typeof e?Object.assign(t.attr.dom[t.attr.name],e):t.attr.dom[t.attr.name]=e}function c(t){return t.some(Array.isArray)?c([].concat(...t)):t}const d="BIND_PREFIX";function u(t,...e){const n=[t[0],...c(e.map((e,n)=>[e,t[n+1]]))],r=n.map((t,e)=>"object"==typeof t||"function"==typeof t?`<link class=${d}${e}>`:t).join("")||" ",a=document.createRange().createContextualFragment(r);return n.forEach((t,e)=>{if("object"==typeof t||"function"==typeof t){const n=a.querySelector(`.${d}${e}`);n?t.nodeType?o({start:{dom:n},end:{dom:n}},t):(t.ref={start:{dom:n},end:{dom:n}},a.components=[...a.components||[],t]):Array.from(a.querySelectorAll("*")).some(n=>Array.from(n.attributes).some(r=>{if(r.value===`<link class=${d}${e}>`)return t.render?(t.ref={attr:{dom:n,name:r.name}},a.components=[...a.components||[],t]):s({attr:{dom:n,name:r.name}},t),!0}))}}),a}function l(t,e){t&&t.call(e)}function h(t){l(t.willDetach,t)}function f(t){l(t.didAttach,t)}function p(t){if(l(t.willRender,t),t.ref.attr)s(t.ref,t.render()||"");else{const n=(e=t.render()||"").nodeType?e:u`${e}`;o(t.ref,n),(t.ref.components||[]).forEach(t=>!(n.components||[]).includes(t)&&h(t)),(n.components||[]).forEach(p),(n.components||[]).forEach(e=>!(t.ref.components||[]).includes(e)&&f(e)),t.ref.components=n.components||[]}var e;l(t.didRender,t)}function m(t){return Promise.resolve(t).then(p)}function b(t,e){t.appendChild(u`${e}`),p(e),f(e)}class v{rerender(){return m(this)}render(){}}class y{constructor(t={}){this.activeChildren=[],this.data=t}set(t){this.data=t,this.activeChildren.forEach(e=>e.push(t))}unbind(t){this.activeChildren=this.activeChildren.filter(e=>e!==t)}bind(t){this.activeChildren=[...this.activeChildren,t]}pull(){return this.data}to(t){return new C(this,t)}toJSON(){return this.data}}class C{constructor(t,e){this.parent=t,this.fn=e,this.attached=!1,this.activeChildren=null,this.oldParentData=null,this.data=null,this.pull()}willDetach(){this.attached&&(this.parent.unbind(this),this.attached=!1,this.oldParentData=null,this.data=null)}didAttach(){this.attached||(this.attached=!0,this.parent.bind(this))}to(t){return new C(this,t)}unbind(t){this.activeChildren=this.activeChildren.filter(e=>e!==t),this.parent.unbind(this)}bind(t){this.parent.bind(this),this.activeChildren=[...this.activeChildren||[],t]}pull(){const t=this.parent.pull();return this.oldParentData!==t&&(this.oldParentData=t,this.data=this.fn(t,this.data)||this.data),this.data}push(t){if(this.oldParentData!==t){this.oldParentData=t;const e=this.fn(t,this.data);null!==e&&(this.data=e,(this.activeChildren||[]).forEach(t=>t.push(e)),this.attached&&m(this))}}render(){return this.data}}class g{constructor(t={}){this.data={};for(const e in t)this.data[e]=new y(t[e])}get(t){return t in this.data?this.data[t].data:{}}set(t,e){(this.data[t]=this.data[t]||new y).set(e)}to(t,e=(t=>t)){return(this.data[t]=this.data[t]||new y).to(e)}toJSON(){return this.data}}n.d(e,"d",function(){return u}),n.d(e,"c",function(){return b}),n.d(e,"a",function(){return v}),n.d(e,"b",function(){return g})},,function(t,e,n){"use strict";n.r(e);var r=n(0);const a=new r.b({name:"world"});function i(t){return t.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;")}Object(r.c)(document.querySelector(".root"),new class extends r.a{render(){return r.d`
            <input placeholder="world"
                onkeyup="${t=>a.set("name",t.currentTarget.value||"world")}" />
            <div>hello ${a.to("name",i)}</div>
        `}})}]);